*** Begin Patch
*** Add File: monitoring/alert_webhook_pd_slack.py
+#!/usr/bin/env python3
+"""
+Alertmanager webhook receiver with PagerDuty & Slack integration, retries, idempotency and runbook trigger.
+ - Receives Alertmanager webhook POSTs
+ - Posts incidents to PagerDuty Events API v2 and/or Slack webhook (config via K8s Secret)
+ - Optionally triggers Argo retrain workflows (config flag)
+ - Writes audit logs to /var/log/alert_webhook_pd_slack.log
+
+Environment variables (prefer K8s Secrets mounted as env):
+ - INCIDENT_API_SLACK_WEBHOOK (optional) : Slack Incoming Webhook URL
+ - PAGERDUTY_ROUTING_KEY (optional)      : PagerDuty Events v2 Routing Key
+ - TRIGGER_RETRAIN (true|false)          : whether to trigger Argo retrain on alerts
+ - ARGO_RETRAIN_MANIFEST                 : path to Argo manifest to apply when triggering retrain
+ - MAX_RETRIES (optional, default 3)
+ - RETRY_DELAY_SECONDS (optional, default 5)
+"""
+from flask import Flask, request, jsonify
+import os, json, requests, subprocess, datetime, time, hashlib
+
+app = Flask(__name__)
+
+SLACK_WEBHOOK = os.environ.get("INCIDENT_API_SLACK_WEBHOOK", "")
+PAGERDUTY_KEY = os.environ.get("PAGERDUTY_ROUTING_KEY", "")
+TRIGGER_RETRAIN = os.environ.get("TRIGGER_RETRAIN", "false").lower() in ("1","true","yes")
+ARGO_MANIFEST = os.environ.get("ARGO_RETRAIN_MANIFEST", "argo/workflows/retrain_gated_promote.yaml")
+LOG_PATH = os.environ.get("ALERT_WEBHOOK_LOG", "/var/log/alert_webhook_pd_slack.log")
+MAX_RETRIES = int(os.environ.get("MAX_RETRIES", "3"))
+RETRY_DELAY_SECONDS = int(os.environ.get("RETRY_DELAY_SECONDS", "5"))
+
+# Simple idempotency store (in-memory). For multi-rep
î€€
