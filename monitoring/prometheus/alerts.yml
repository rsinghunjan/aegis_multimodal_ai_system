
groups:
  - name: aegis-model-monitoring
    rules:
      - alert: ModelDriftHigh
        expr: aegis_model_drift_score > 0.25
        for: 10m
        labels:
          severity: page
        annotations:
          summary: "High model drift detected for {{ $labels.model }}"
          description: "Aggregate drift score {{ $value }} exceeded threshold for model {{ $labels.model }}. Investigate dataset skew or feature pipeline regressions."
      - alert: ModelAccuracyDrop
        expr: (aegis_model_accuracy - vector(1)) < -0.05 and on(model) aegis_model_accuracy < 0.9
        # This expression is illustrative; adapt for your baseline/threshold storage.
        for: 5m
        labels:
          severity: critical
        annotations:
          summary: "Model accuracy dropped for {{ $labels.model }}"
          description: "Accuracy for model {{ $labels.model }} has decreased beyond allowed threshold."

